unit Controller.Principal;

interface

type
  tEvMensagem = procedure(Mensagem : String) of Object;
  tEvProgresso = procedure(Posicao : Integer) of Object;

type
  TController = class
  private
    FMsg : String;
    FPosicao : Integer;
    FevMsg : tEvMensagem;
    FevProgresso : tEvProgresso;
    procedure setMsg(Value : String);
    procedure setPosicao(Value : Integer);
  public
    property evMsg : tEvMensagem read FevMsg write FevMsg;
    property evProgresso : tEvProgresso read FevProgresso write FevProgresso;
    property Msg : String read FMsg write setMsg;
    property Posicao : Integer read FPosicao write setPosicao;
    procedure AdicionaLinha;
  end;

implementation

procedure TController.AdicionaLinha;
begin
  Msg := 'Adicionando via orientação a eventos';
end;

procedure TController.setMsg(Value : String);
begin
  if Assigned(FevMsg) then
    FevMsg(Value);
end;

procedure TController.setPosicao(Value : Integer);
begin
  if Assigned(FevProgresso) then
    FevProgresso(Value);
end;


end.
